<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AA電話</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <div class="container">
        <h1>AA電話</h1>
        
        <div class="device-controls">
            <button id="mobileDeviceBtn" class="device-button mobile-device-btn">⚙️</button>
            <div class="device-row desktop-only">
                <label for="videoSelect">ビデオ:</label>
                <select id="videoSelect"></select>
                <label for="audioSelect">音声:</label>
                <select id="audioSelect"></select>
                <button id="refreshDevices">更新</button>
            </div>
        </div>
        
        <!-- デバイス選択ダイアログ -->
        <div id="deviceDialog" class="device-dialog" style="display: none;">
            <div class="dialog-content">
                <div class="dialog-header">
                    <h3>デバイス選択</h3>
                    <button id="closeDialog">×</button>
                </div>
                <div class="dialog-body">
                    <div class="dialog-row">
                        <label for="videoSelectDialog">ビデオ:</label>
                        <select id="videoSelectDialog"></select>
                    </div>
                    <div class="dialog-row">
                        <label for="audioSelectDialog">音声:</label>
                        <select id="audioSelectDialog"></select>
                    </div>
                    <div class="dialog-buttons">
                        <button id="refreshDevicesDialog">更新</button>
                        <button id="applyDevices">適用</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="controls">
            <input type="text" id="keyword" placeholder="キーワードを入力">
            <button id="clearBtn" style="display: none;">クリア</button>
            <button id="hostBtn">ホストする</button>
            <button id="joinBtn">参加する</button>
            <button id="deviceBtn" class="device-button desktop-device-btn">⚙️</button>
            <button id="leaveBtn" style="display: none;">退室</button>
        </div>
        
        <div class="status desktop-status">
            <span id="statusText">未接続</span>
            <span id="timer"></span>
        </div>
        
        <div class="chat-area">
            <div class="video-container">
                <h3>相手</h3>
                <pre id="remoteAA" class="aa-display"></pre>
                <video id="remoteVideo" autoplay style="display: none;"></video>
            </div>
            
            <div class="status mobile-status">
                <span id="statusText2">未接続</span>
                <span id="timer2"></span>
            </div>
            
            <div class="video-container">
                <h3>自分</h3>
                <pre id="localAA" class="aa-display"></pre>
                <video id="localVideo" autoplay muted style="display: none;"></video>
            </div>
        </div>
        
        <canvas id="canvas" style="display: none;"></canvas>
    </div>
    
    <script src="./main.js"></script>
</body>
</html>
